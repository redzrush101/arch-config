# =============================================================================
# Helix Language Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Clangd (C/C++)
# -----------------------------------------------------------------------------
[language-server.clangd]
command = "clangd"
args = [
  "--background-index",
  "--clang-tidy",
  "--header-insertion=iwyu",
  "--completion-style=detailed",
  "--function-arg-placeholders",
  "--fallback-style=llvm"
]

# -----------------------------------------------------------------------------
# C Language
# -----------------------------------------------------------------------------
[[language]]
name = "c"
auto-format = true
language-servers = ["clangd"]
comment-token = "//"
indent = { tab-width = 4, unit = "    " }

[language.debugger]
name = "lldb-dap"
transport = "stdio"
command = "lldb-dap"

[[language.debugger.templates]]
name = "binary"
request = "launch"
completion = [{ name = "binary", completion = "filename" }]
args = { program = "{0}" }

[[language.debugger.templates]]
name = "attach"
request = "attach"
completion = ["pid"]
args = { pid = "{0}" }

# -----------------------------------------------------------------------------
# ZLS (Zig)
# -----------------------------------------------------------------------------
[language-server.zls]
command = "zls"

# -----------------------------------------------------------------------------
# Zig Language
# -----------------------------------------------------------------------------
[[language]]
name = "zig"
auto-format = true
language-servers = ["zls"]
comment-token = "//"
indent = { tab-width = 4, unit = "    " }

[language.debugger]
name = "lldb-dap"
transport = "stdio"
command = "lldb-dap"

[[language.debugger.templates]]
name = "binary"
request = "launch"
completion = [{ name = "binary", completion = "filename" }]
args = { program = "{0}" }

[[language.debugger.templates]]
name = "attach"
request = "attach"
completion = ["pid"]
args = { pid = "{0}" }

# -----------------------------------------------------------------------------
# Bash
# -----------------------------------------------------------------------------
[[language]]
name = "bash"
auto-format = true
formatter = { command = "shfmt", args = ["-i", "4"] }
